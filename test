SELECT *
FROM alerts_onboard ad
WHERE
    CASE
        WHEN :categoryCodeList IS NULL OR LENGTH(TRIM(:categoryCodeList)) = 0 THEN
            ad.request IN (SELECT requestid FROM categorytable)
        ELSE
            ad.request IN (SELECT requestid FROM categorytable WHERE categorycode IN (:categoryCodeList))
    END;
